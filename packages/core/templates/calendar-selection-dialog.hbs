<div class="dialog-content">
  <form class="standard-form">
    <div class="search-filters flexrow">
      <input type="text" class="search-input" placeholder="{{localize 'SEASONS_STARS.dialog.calendar_selection.search'}}" value="{{searchQuery}}" data-action="search" />
      <select data-action="setFilter" data-filter-type="tag">
        <option value="">{{localize 'SEASONS_STARS.dialog.calendar_selection.filter_tag'}}</option>
        {{#each filterOptions.tags}}
        <option value="{{this}}" {{#if (eq ../selectedFilters.tag this)}}selected{{/if}}>{{this}}</option>
        {{/each}}
      </select>
      <select data-action="setFilter" data-filter-type="author">
        <option value="">{{localize 'SEASONS_STARS.dialog.calendar_selection.filter_author'}}</option>
        {{#each filterOptions.authors}}
        <option value="{{this}}" {{#if (eq ../selectedFilters.author this)}}selected{{/if}}>{{this}}</option>
        {{/each}}
      </select>
      <select data-action="setFilter" data-filter-type="source">
        <option value="">{{localize 'SEASONS_STARS.dialog.calendar_selection.filter_source'}}</option>
        {{#each filterOptions.sources}}
        <option value="{{id}}" {{#if (eq ../selectedFilters.source id)}}selected{{/if}}>{{label}}</option>
        {{/each}}
      </select>
    </div>

    <div class="calendar-list">
      {{#each calendars}}
      <div class="calendar-row ui-control {{#if isCurrent}}active{{/if}} {{#if isSelected}}picked{{/if}}" data-action="selectCalendar" data-calendar-id="{{id}}">
        <span class="calendar-name">{{label}}</span>
        <span class="calendar-tags">{{#each tags}}<span class="tag">{{this}}</span>{{/each}}</span>
        <span class="calendar-author">{{author}}</span>
        <span class="calendar-source">{{sourceLabel}}</span>
      </div>
      {{/each}}
    </div>

    <div class="calendar-details">
      {{#if selected}}
      <h3>{{selected.label}}</h3>
      {{#if selected.description}}<p class="description">{{selected.description}}</p>{{/if}}
      {{#if selected.sampleDate}}<div class="sample">{{selected.sampleDate}}</div>{{/if}}
      {{#if selected.miniPreview}}<div class="mini">{{selected.miniPreview}}</div>{{/if}}
      {{/if}}
      {{#if selectedFilePath}}
      <div class="file-info">{{localize 'SEASONS_STARS.dialog.calendar_selection.file_path'}}: {{selectedFilePath}}</div>
      {{/if}}
    </div>
  </form>

  {{#unless calendars.length}}
  <div class="no-calendars flexcol">
    <i class="fas fa-calendar-times no-calendars-icon"></i>
    <div class="no-calendars-message">
      <h4>{{localize 'SEASONS_STARS.dialog.calendar_selection.no_calendars'}}</h4>
      <p>{{localize 'SEASONS_STARS.dialog.calendar_selection.no_calendars_hint'}}</p>
    </div>
  </div>
  {{/unless}}
</div>

